import{_ as g,o as c,c as _,a as i,r as C,p as I,b as k,d as p,E as l,e as d,f as a,w as h,t as x,g as E,h as A,i as b,j as P,T as M}from"./index.280b53ef.js";class ${constructor(t){this.options=Object.assign({autoPlay:!1,loop:!1,delay:4e3},t||{}),this.activated=!1,this.stepIndex=-1,this.EventCenter={change:[],ended:[]}}__Trigger(t,s=[]){Array.isArray(this.EventCenter[t])&&this.EventCenter[t].forEach(n=>{n(...s)})}on(t,s){Object.keys(this.EventCenter).indexOf(t)!==-1&&typeof s=="function"&&this.EventCenter[t].indexOf(s)===-1&&this.EventCenter[t].push(s)}off(t,s){if(t){if(Object.keys(this.EventCenter).indexOf(t)!==-1)if(typeof s=="function"){const n=this.EventCenter[t].indexOf(s);n!==-1&&this.EventCenter[t].splice(n,1)}else this.EventCenter[t]=[]}else Object.keys(this.EventCenter).forEach(n=>{this.EventCenter[n]=[]})}load(t){Array.isArray(t)?(this.pause(),this.actions=t,this.stepIndex=-1):console.warn("load(): \u53C2\u6570\u683C\u5F0F\u4E0D\u6B63\u786E")}insert(t){Array.isArray(t)?Array.isArray(this.actions)?(this.activated&&this.pause(!0),this.actions.splice(this.stepIndex+1,0,...t),this.play()):console.warn("Director\u5B9E\u4F8B\u672A\u521D\u59CB\u5316"):console.warn("insert(): \u53C2\u6570\u683C\u5F0F\u4E0D\u6B63\u786E")}push(t){Object.prototype.toString.call(t)==="[object Object]"?Array.isArray(this.actions)?this.actions.push(t):this.load([t]):console.warn("push(): \u53C2\u6570\u683C\u5F0F\u4E0D\u6B63\u786E")}next(){this.pause(),this.stepIndex<this.actions.length-1?this.stepIndex++:this.options.loop&&(this.stepIndex=0),this.play()}prev(){this.pause(),this.stepIndex>0?this.stepIndex--:this.options.loop&&(this.stepIndex=this.actions.length-1),this.play()}go(t){if(isNaN(parseInt(t)))return null;this.pause(),t>-1&&t<this.actions.length?this.stepIndex=t:console.warn("go(): targetIndex\u4E0D\u5408\u6CD5"),this.play()}play(){if(this.activated)return console.warn("play(): \u5B9E\u4F8B\u6B63\u5728\u64AD\u653E\u4E2D");this.activated=!0;const t=()=>{if(!Array.isArray(this.actions)||isNaN(parseInt(this.stepIndex)))return null;this.stepIndex++,(this.stepIndex<0||this.stepIndex>this.actions.length-1)&&(this.stepIndex=0);const s=this.actions[this.stepIndex];typeof s.action=="function"&&s.action();const n=s.autoPlay===void 0?!!this.options.autoPlay:!!s.autoPlay,o=parseInt(s.delay===void 0?parseInt(this.options.delay):parseInt(s.delay));this.activated=n&&!isNaN(o);const r=()=>{this.__Trigger("change",[this.activated,this.stepIndex]),this.activated?this.timer=setTimeout(t,o):this.timer=clearTimeout(this.timer)};this.stepIndex<this.actions.length-1?r():this.options.loop?(this.stepIndex=-1,r()):(this.stop(),this.__Trigger("ended"))};t()}pause(t){this.activated&&(this.activated=!1,this.timer=clearTimeout(this.timer),!t&&this.__Trigger("change",[this.activated,this.stepIndex]))}stop(){this.pause(),this.stepIndex=-1}destroy(){this.pause(),this.stepIndex=null,this.actions=null}}const S={name:"myHeader"},T=e=>(I("data-v-4cbef9fd"),e=e(),k(),e),B={class:"header flex-row align-center"},O={class:"center flex-1"},j=T(()=>i("a",{class:"link",target:"_blank",title:"Github",href:"https://github.com/cutting-mat/director"},[i("svg",{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true"},[i("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])],-1));function D(e,t,s,n,o,r){return c(),_("div",B,[i("h1",{class:"logo",onClick:t[0]||(t[0]=u=>e.$router.replace("/"))},"Director"),i("div",O,[C(e.$slots,"default",{},void 0,!0)]),j])}var z=g(S,[["render",D],["__scopeId","data-v-4cbef9fd"]]);const L={data(){return{}},methods:{}},N=e=>(I("data-v-7b8acfbe"),e=e(),k(),e),F={class:"foot"},V=N(()=>i("p",null,[p(" \xA9 2022 - 3022 Author "),i("a",{href:"https://refined-x.com/",target:"_blank"},"\u96C5X\u5171\u8D4F"),p(" Github "),i("a",{href:"https://github.com/cutting-mat/director",target:"_blank"},"director")],-1)),G=[V];function H(e,t,s,n,o,r){return c(),_("footer",F,G)}var R=g(L,[["render",H],["__scopeId","data-v-7b8acfbe"]]);const W={data(){return{loading:!1,activated:!1,stepIndex:0,actionsLength:0,ManualIns:null}},methods:{handlePlay(){this.director.actions||this.init(),this.activated?this.director.pause():this.director.play()},init(){this.director.load([{action:()=>{l({title:"Step1",message:"\u6210\u529F\u6CE8\u518C\u4E86\u4E00\u4E2ADirector\u5B9E\u4F8B",type:"success"})}},{action:()=>{l({title:"Step2",message:"\u63A5\u4E0B\u6765\u5373\u5C06\u8DF3\u8F6C\u8DEF\u7531",type:"success"})}},{action:()=>{this.$router.push("/Page1")}},{action:()=>{l({title:"Step11",message:"Welcom\uFF0C\u4F60\u56DE\u6765\u4E86",type:"success"})}}])}},created(){this.director.actions&&(this.activated=this.director.activated,this.stepIndex=this.director.stepIndex,this.actionsLength=this.director.actions.length),this.director.off("change"),this.director.on("change",(e,t)=>{console.log("change",t),this.activated=e,this.stepIndex=t,this.actionsLength=this.director.actions.length}),this.director.off("ended"),this.director.on("ended",()=>{this.director.destroy(),this.stepIndex=0,this.actionsLength=0}),this.ManualIns=new $({loop:!0}),this.ManualIns.load([{action:()=>{l({title:"\u624B\u52A8\u6A21\u5F0F3-1",message:"\u53EF\u4EE5\u5728\u6B65\u9AA4\u95F4\u4EFB\u610F\u7A7F\u68AD",type:"success"})}},{action:()=>{l({title:"\u624B\u52A8\u6A21\u5F0F3-2",message:"\u53EF\u4EE5\u5728\u6B65\u9AA4\u95F4\u4EFB\u610F\u7A7F\u68AD",type:"success"})}},{action:()=>{l({title:"\u624B\u52A8\u6A21\u5F0F3-3",message:"\u53EF\u4EE5\u5728\u6B65\u9AA4\u95F4\u4EFB\u610F\u7A7F\u68AD",type:"success"})}}])}},v=e=>(I("data-v-6825cdea"),e=e(),k(),e),X={class:"flex-1 scrollbar"},q={class:"wrap tc"},J=v(()=>i("h1",{class:"maintitle"},"Director",-1)),K=v(()=>i("h2",{class:"subtitle"}," \u524D\u7AEF\u81EA\u52A8\u5316\u811A\u672C\u6267\u884C\uFF0C\u7075\u6D3B\u5B9E\u73B0\u5404\u79CD\u81EA\u52A8\u64AD\u653E\u3001\u6F14\u793A\u573A\u666F ",-1)),Q={href:"https://github.com/cutting-mat/director/blob/main/README.md",target:"_blank",class:"bigBtn"},U=p(" \u5FEB\u901F\u5F00\u59CB "),Y=v(()=>i("h3",{class:"channeltitle"},"\u81EA\u52A8\u793A\u4F8B",-1)),Z={class:"demoBlock"},tt={key:0},et=v(()=>i("h3",{class:"channeltitle"},"\u624B\u52A8\u793A\u4F8B",-1)),st={class:"demoBlock"},it=p(" \u4E0A\u4E00\u6B65 "),nt=p(" \u4E0B\u4E00\u6B65 ");function ot(e,t,s,n,o,r){const u=d("magic-stick"),m=d("el-icon"),f=d("el-button");return c(),_("div",X,[i("div",q,[J,K,i("div",null,[i("a",Q,[a(m,null,{default:h(()=>[a(u)]),_:1}),U])]),Y,i("div",Z,[a(f,{type:"success",onClick:r.handlePlay},{default:h(()=>[p(x(o.activated?"\u6682\u505C":"\u5F00\u59CB")+" ",1),o.actionsLength>0?(c(),_("span",tt,"("+x(o.stepIndex+1)+"/"+x(o.actionsLength)+")",1)):E("",!0)]),_:1},8,["onClick"])]),et,i("div",st,[a(f,{type:"warning",onClick:t[0]||(t[0]=y=>o.ManualIns.prev())},{default:h(()=>[it]),_:1}),a(f,{type:"warning",onClick:t[1]||(t[1]=y=>o.ManualIns.play())},{default:h(()=>[nt]),_:1})])])])}var at=g(W,[["render",ot],["__scopeId","data-v-6825cdea"]]);const ct={components:{myHeader:z,myFooter:R,Main:at},data(){return{routePath:null}},watch:{$route:{handler(){this.routePath=this.$route.path},immediate:!0}},created(){const e=A();e.appContext.config.globalProperties.director=new $({autoPlay:!0,delay:2e3})}},rt={class:"flex-col main"};function dt(e,t,s,n,o,r){const u=d("myHeader"),m=d("Main"),f=d("router-view"),y=d("myFooter");return c(),_("div",rt,[a(u),o.routePath=="/"?(c(),b(m,{key:0,class:"flex-1"})):(c(),b(f,{key:1,class:"flex-1"},{default:h(({Component:w})=>[a(M,{name:"fade"},{default:h(()=>[(c(),b(P(w)))]),_:2},1024)]),_:1})),a(y)])}var ht=g(ct,[["render",dt],["__scopeId","data-v-0e91c198"]]);export{ht as default};
